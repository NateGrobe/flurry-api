(this.webpackJsonpflurry=this.webpackJsonpflurry||[]).push([[0],{43:function(e,t,n){e.exports=n(73)},71:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(12),i=n.n(c),u=n(13),o=n(42),d=n(18),l=n(38),s=n(39),f=n(5),p=n.n(f),m=n(10),v=n(19),E=n.n(v);function C(){return(C=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("api/decks");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h={getAll:function(){return C.apply(this,arguments)}};function k(){return(k=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api/cards");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post("/api/cards",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.delete("".concat("/api/cards","/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(m.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.put("".concat("/api/cards","/").concat(t),n);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y={getAll:function(){return k.apply(this,arguments)},createCard:function(e){return b.apply(this,arguments)},removeCard:function(e){return O.apply(this,arguments)},updateCard:function(e,t){return D.apply(this,arguments)}};var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_DECKS":return t.content;case"ADD_CARD_TO_DECK":var n=t.deckId,r=t.newCard,a=e.find((function(e){return e.id===n}));return a.cards.push(r),e.map((function(e){return e.id===n?a:e}));case"REMOVE_CARD_FROM_DECK":var c=t.cardId,i=t.deckId,u=e.find((function(e){return e.id===i}));return u.cards=u.cards.filter((function(e){return e.id!==c})),e.map((function(e){return e.id===i?u:e}));case"MOD_CARD":var o=t.cardId,d=t.deckId,l=t.changedCard,s=e.find((function(e){return e.id===d}));return s.cards=s.cards.map((function(e){return e.id===o?l:e})),e.map((function(e){return e.id===d?s:e}));default:return e}},I=n(15),j={title:"",description:"",tasks:[]};var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARD_TITLE":return Object(I.a)(Object(I.a)({},e),{},{title:t.title});case"CARD_DESC":return Object(I.a)(Object(I.a)({},e),{},{description:t.desc});case"CLEAR_CARD_FORM":return j;default:return e}},_={title:"",description:"",tasks:[]};var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_CARD_MOD":return{title:t.title,description:t.desc,tasks:t.tasks};case"MOD_TITLE":return Object(I.a)(Object(I.a)({},e),{},{title:t.title});case"MOD_DESC":return Object(I.a)(Object(I.a)({},e),{},{description:t.desc});default:return e}},x=Object(d.combineReducers)({decks:w,newCard:g,cardMod:T}),A=Object(d.createStore)(x,Object(s.composeWithDevTools)(Object(d.applyMiddleware)(l.a))),R=n(41),M=n(40),S=n(17),F=n(14),B=n(16),L=n(11),K={removeCardFromDeck:function(e,t){return function(){var n=Object(m.a)(p.a.mark((function n(r){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.removeCard(e);case 2:r({type:"REMOVE_CARD_FROM_DECK",cardId:e,deckId:t});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},initCardMod:function(e,t,n){return function(r){r({type:"INIT_CARD_MOD",title:e,desc:t,tasks:n})}},modTitle:function(e){return function(t){t({type:"MOD_TITLE",title:e})}},modDesc:function(e){return function(t){t({type:"MOD_DESC",desc:e})}},modCard:function(e,t,n){return function(){var r=Object(m.a)(p.a.mark((function r(a){var c;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,y.updateCard(t,e);case 2:c=r.sent,a({type:"MOD_CARD",changedCard:c,cardId:t,deckId:n});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}},N=Object(u.b)((function(e){return{cardMod:e.cardMod}}),K)((function(e){var t=Object(r.useState)(!1),n=Object(S.a)(t,2),c=n[0],i=n[1],u=Object(r.useState)(!1),o=Object(S.a)(u,2),d=o[0],l=o[1],s=e.show,f=e.hide,p=e.data,m=e.cardMod,v=m.title,E=m.description,C=m.tasks;function h(){f(),i(!1),l(!1)}function k(){e.initCardMod(c?v:p.title,d?E:p.description,p.tasks)}function b(){var t={title:v,description:E,tasks:C,id:p.cardId};e.modCard(t,p.cardId,p.deckId),i(!1),l(!1),f()}return a.a.createElement(L.a,{show:s,onHide:h},a.a.createElement("form",{onSubmit:b},a.a.createElement(L.a.Header,{closeButton:!0},a.a.createElement("div",{onClick:function(){k(),i(!0)}},c?a.a.createElement("input",{value:v,onChange:function(t){var n=t.target;return e.modTitle(n.value)}}):p.title)),a.a.createElement(L.a.Body,null,a.a.createElement("div",{onClick:function(){k(),l(!0)}},d?a.a.createElement("input",{value:E,onChange:function(t){var n=t.target;return e.modDesc(n.value)}}):p.description)),a.a.createElement(L.a.Footer,null,a.a.createElement(B.a,{variant:"secondary",onClick:h},"Close"),a.a.createElement(B.a,{variant:"danger",onClick:function(){e.removeCardFromDeck(p.cardId,p.deckId),f()}},"Remove"),a.a.createElement(B.a,{variant:"primary",onClick:b},"Change"))))})),H=(n(71),function(e){var t=e.title,n=e.description,c=e.cardId,i=e.deckId,u=Object(r.useState)(!1),o=Object(S.a)(u,2),d=o[0],l=o[1];return a.a.createElement("div",null,a.a.createElement(F.a,{id:"userCard",onClick:function(){return l(!0)}},a.a.createElement(F.a.Body,null,a.a.createElement(F.a.Text,null,a.a.createElement("strong",null,t)),a.a.createElement(F.a.Text,null,n))),a.a.createElement("br",null),a.a.createElement(N,{show:d,hide:function(){return l(!1)},data:{title:t,description:n,cardId:c,deckId:i}}))}),z={updateTitle:function(e){return function(t){t({type:"CARD_TITLE",title:e})}},updateDescription:function(e){return function(t){t({type:"CARD_DESC",desc:e})}},clearCardForm:function(){return function(e){e({type:"CLEAR_CARD_FORM"})}},addCardToDeck:function(e,t){return function(){var n=Object(m.a)(p.a.mark((function n(r){var a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.createCard(e);case 2:a=n.sent,r({type:"ADD_CARD_TO_DECK",newCard:a,deckId:t});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},J=Object(u.b)((function(e){return{newCard:e.newCard}}),z)((function(e){var t=e.newCard,n=t.title,r=t.description;t.tasks;function c(){e.hide(),e.clearCardForm()}return a.a.createElement(L.a,{show:e.show,onHide:c},a.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a={title:n,description:r,tasks:[],deck:e.deckId};e.addCardToDeck(a,e.deckId),e.clearCardForm(),e.hide()}},a.a.createElement(L.a.Header,{closeButton:!0},a.a.createElement(L.a.Title,null,"New Card")),a.a.createElement(L.a.Body,null,a.a.createElement("input",{value:n,placeholder:"Enter a title...",onChange:function(t){var n=t.target;return e.updateTitle(n.value)}}),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("textarea",{value:r,placeholder:"Description...",onChange:function(t){var n=t.target;return e.updateDescription(n.value)},style:{width:"80%",height:"5rem"}})),a.a.createElement(L.a.Footer,null,a.a.createElement(B.a,{variant:"secondary",onClick:c},"Close"),a.a.createElement(B.a,{variant:"primary",type:"submit"},"Add"))))})),V=function(e){var t=e.header,n=e.cards,c=e.deckId,i=Object(r.useState)(!1),u=Object(S.a)(i,2),o=u[0],d=u[1],l=Object(r.useState)(!1),s=Object(S.a)(l,2),f=s[0],p=s[1],m={color:o?"black":"grey",width:"100%",textAlign:"left",border:"none",backgroundColor:o?"grey":"#f1f1f1"};return n?a.a.createElement("div",null,a.a.createElement(F.a,{style:{backgroundColor:"#f1f1f1",width:"20rem"}},a.a.createElement(F.a.Body,null,a.a.createElement(F.a.Text,{style:{fontWeight:"bold",fontSize:"14pt"}},t),n.map((function(e){return a.a.createElement(H,{key:e.id,title:e.title,description:e.description,cardId:e.id,deckId:c})})),a.a.createElement(F.a.Text,null,a.a.createElement(B.a,{variant:"light",onClick:function(){return p(!0)},style:m,onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)}},"+ Add another card")))),a.a.createElement(J,{show:f,hide:function(){return p(!1)},deckId:c})):a.a.createElement("div",null)},W=Object(u.b)((function(e){return{decks:e.decks}}),null)((function(e){return a.a.createElement(M.a,{as:"div"},e.decks.map((function(e){return a.a.createElement(V,{key:e.id,cards:e.cards,header:e.title,deckId:e.id})})))})),q={initializeDecks:function(){return function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getAll();case 2:n=e.sent,t({type:"INIT_DECKS",content:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},G=Object(u.b)((function(e){return{decks:e.decks}}),q)((function(e){return Object(r.useEffect)((function(){e.initializeDecks()}),[]),a.a.createElement(R.a,{fluid:!0},a.a.createElement(W,null))}));i.a.render(a.a.createElement(u.a,{store:A},a.a.createElement(o.a,null,a.a.createElement(G,null))),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.1532898f.chunk.js.map